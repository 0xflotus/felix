//Check functors
//Check polymorphism
//Check types:higher order

typedef fun pair (t:TYPE):TYPE => t * t;
typedef Pair[t] = t * t;
typedef PAIR = fun (t:TYPE):TYPE =>Pair[t];

var x: pair int;

fun f[t,u:TYPE->TYPE] (x: u t)=>x;

var k1 = f[int, the pair] (1,1);
var k2 = f[int, (fun (t:TYPE):TYPE =>Pair[t] ) ] (1,2);
var k3 = f[int, the PAIR] (1,3);
var k4 = f[int, the Pair] (1,4);

print k1.(0); print ","; print k1.(1); endl;
print k2.(0); print ","; print k2.(1); endl;
print k3.(0); print ","; print k3.(1); endl;
print k4.(0); print ","; print k4.(1); endl;
