@head(1,"Frontc and Cil C parser")
@execfile('config'+os.sep+'flx_data.py')
@h = tangler('spkgs/cil.py')
@select(h)
iscr_source = ['lpsrc/cil.pak']

CIL_LEXS = [ 'src/compiler/cil/flx_cil_clexer', 'src/compiler/cil/flx_cil_formatlex', ]
CIL_PARSES = [ 'src/compiler/cil/flx_cil_cparser', 'src/compiler/cil/flx_cil_formatparse', ]

CIL_MODULES = [
  'src/compiler/cil/flx_cil_machdep_type',
  'src/compiler/cil/flx_cil_cabs',
  'src/compiler/cil/flx_cil_cilversion',
  'src/compiler/cil/flx_cil_machdep',
  'src/compiler/cil/flx_cil_pretty',
  'src/compiler/cil/flx_cil_errormsg',
  'src/compiler/cil/flx_cil_cabs_helper',
  'src/compiler/cil/flx_cil_lexerhack',
  'src/compiler/cil/flx_cil_escape',
  'src/compiler/cil/flx_cil_cprint',
  'src/compiler/cil/flx_cil_cparser',
  'src/compiler/cil/flx_cil_clexer',
  'src/compiler/cil/flx_cil_stats',
  'src/compiler/cil/flx_cil_trace',
  'src/compiler/cil/flx_cil_clist',
  'src/compiler/cil/flx_cil_cil',
  'src/compiler/cil/flx_cil_frontc',
  'src/compiler/cil/flx_cil_rmtmps',
  'src/compiler/cil/flx_cil_cabsvisit',
  'src/compiler/cil/flx_cil_inthash',
  'src/compiler/cil/flx_cil_formatparse',
  'src/compiler/cil/flx_cil_formatlex',
  'src/compiler/cil/flx_cil_util',
  'src/compiler/cil/flx_cil_mergecil',
  'src/compiler/cil/flx_cil_patch',
  'src/compiler/cil/flx_cil_formatcil',
  'src/compiler/cil/flx_cil_cilutil',
  'src/compiler/cil/flx_cil_cabs2cil',
  'src/compiler/cil/flx_cil_check',
]

CIL_RAW_INTERFACES = [
  'src/compiler/cil/flx_cil_machdep_type',
  'src/compiler/cil/flx_cil_cabs',
]

CIL_INTERFACES = CIL_MODULES
CIL_IMPLEMENTATIONS = CIL_INTERFACES

caml_lexes = CIL_LEXS
caml_parses = CIL_PARSES
caml_raw_interfaces = CIL_RAW_INTERFACES
caml_interfaces = CIL_INTERFACES
caml_implementations = CIL_IMPLEMENTATIONS
caml_provide_lib = 'src/compiler/cil/cillib'
caml_require_libs = ['nums','unix','misclib','cillib']
pkg_requires = ['misc']

@include_file("flx_frontc.ipk")
@include_file("flx_cil.ipk")


